<!-- Mobile Hamburger Menu -->
<div class="fixed top-4 left-4 z-50 md:hidden" data-controller="mobile-hamburger" data-action="keydown@window->mobile-hamburger#keydown">
  <button class="bg-white rounded-lg p-2 shadow-lg hover:shadow-md transition-shadow duration-200"
          data-action="click->mobile-hamburger#toggle" data-mobile-hamburger-target="button">
    <svg class="hamburger w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
    </svg>
    <svg class="close w-6 h-6 text-gray-700 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
    </svg>
  </button>

  <!-- Backdrop -->
  <div class="fixed inset-0 bg-black bg-opacity-50 hidden z-40" data-mobile-hamburger-target="backdrop" data-action="click->mobile-hamburger#close"></div>

  <!-- Full Screen Menu -->
  <div class="fixed inset-0 bg-white hidden z-50" data-mobile-hamburger-target="menu">
    <div class="flex justify-end p-4">
      <button data-action="click->mobile-hamburger#close" class="text-gray-500 hover:text-gray-700">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>
    <div class="overflow-y-auto p-2">
      <ul class="py-1">
        <% if user_signed_in? %>
          <!-- Discover -->
          <li class="px-4 py-2 text-sm font-medium text-gray-500">Discover</li>
          <li><%= link_to "Feed", music_index_path, data: { turbo_frame: "music-frame" }, class: "block px-4 py-2 text-gray-800 hover:bg-[#FFC9A4]" %></li>
          <li><%= link_to "Trending", music_index_path, data: { turbo_frame: "music-frame" }, class: "block px-4 py-2 text-gray-800 hover:bg-[#FFC9A4]" %></li>
          <li><%= link_to "Explore", music_genres_path, data: { turbo_frame: "music-frame" }, class: "block px-4 py-2 text-gray-800 hover:bg-[#FFC9A4]" %></li>

          <!-- Your Music -->
          <li class="px-4 py-2 text-sm font-medium text-gray-500 border-t border-gray-200 mt-2">Your Music</li>
          <li><%= link_to "My Music", my_music_path, data: { turbo_frame: "music-frame" }, class: "block px-4 py-2 text-gray-800 hover:bg-[#FFC9A4]" %></li>
          <li><%= link_to "My Artists", artists_path, data: { turbo_frame: "music-frame" }, class: "block px-4 py-2 text-gray-800 hover:bg-[#FFC9A4]" %></li>
          <li><%= link_to "My Albums", albums_path, data: { turbo_frame: "music-frame" }, class: "block px-4 py-2 text-gray-800 hover:bg-[#FFC9A4]" %></li>
          <li><%= link_to "Create Playlist", new_playlist_path, class: "block px-4 py-2 text-gray-800 hover:bg-[#FFC9A4]" %></li>
          <li><%= link_to "Browse Library", music_playlists_path, data: { turbo_frame: "music-frame" }, class: "block px-4 py-2 text-gray-800 hover:bg-[#FFC9A4]" %></li>

          <!-- Account -->
          <li class="px-4 py-2 text-sm font-medium text-gray-500 border-t border-gray-200 mt-2">Account</li>
          <li><%= link_to "Profile", profile_path, data: { turbo_frame: "music-frame" }, class: "block px-4 py-2 text-gray-800 hover:bg-[#FFC9A4]" %></li>
          <li><%= link_to "Settings", edit_profile_path, class: "block px-4 py-2 text-gray-800 hover:bg-[#FFC9A4]" %></li>
          <li class="border-t border-gray-200 mt-2">
            <%= button_to "Logout", destroy_user_session_path, method: :delete, data: { confirm: "Are you sure you want to logout?" }, class: "block px-4 py-2 text-red-600 hover:bg-red-50 hover:text-red-700 w-full text-left" %>
          </li>
        <% else %>
          <li><%= link_to "Sign Up", new_user_registration_path, class: "block px-4 py-2 text-gray-800 hover:bg-[#FFC9A4] font-medium" %></li>
          <li><%= link_to "Login", new_user_session_path, class: "block px-4 py-2 text-gray-800 hover:bg-[#FFC9A4] font-medium" %></li>
          <li><%= link_to "Admin Login", new_admin_session_path, class: "block px-4 py-2 text-gray-800 hover:bg-[#FFC9A4] font-medium" %></li>
          <li class="px-4 py-2 text-sm font-medium text-gray-500 border-t border-gray-200 mt-2">Explore</li>
          <li><%= link_to "About", music_about_path, data: { turbo_frame: "music-frame" }, class: "block px-4 py-2 text-gray-800 hover:bg-[#FFC9A4]" %></li>
        <% end %>
      </ul>
    </div>
  </div>
</div>